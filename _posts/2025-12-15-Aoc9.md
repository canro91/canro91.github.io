---
layout: post
title: "Advent of Code Day 9: Finding the Largest Rectangle of Red Tiles"
tags: csharp
---

On [Day 9](https://adventofcode.com/2025/day/9) of Advent of Code, we're helping elves to redecorate the theater by rearranging the red tiles on the floor.

After [yesterday's struggle]({% post_url 2025-12-13-AoC7 %}), this is an easy one when I consider every pair of points as the opposite corners of a rectangle to calculate its area. Like this,

```csharp
record Rectangle(Position Left, Position Right)
{
    public int Area
        => (Math.Abs(Left.Y - Right.Y) + 1)
                * (Math.Abs(Left.X - Right.X) + 1);
}
```

Then, I reuse `Pairs()` from yesterday to find all rectangles. Next, I use [LINQ's MaxBy]({% post_url 2022-06-27-NET6LinqMethods %}) to find the largest one. Like this,

```csharp
var largest = redTiles.Pairs()
    .Select(p => new Rectangle(p.First, p.Second))
    .MaxBy(r => r.Area);
```

With those two pieces, the puzzle is solved. Here's my full solution,

```csharp
var redTiles = new[]
{
    new Position(7,1),
    new Position(11,1),
    new Position(11,7),
    new Position(9,7),
    new Position(9,5),
    new Position(2,5),
    new Position(2,3),
    new Position(7,3),
};

var largest = redTiles.Pairs()
                    .Select(p => new Rectangle(p.First, p.Second))
                    .MaxBy(r => r.Area);

Console.WriteLine(largest);
Console.ReadKey();

record Position(int X, int Y);
record Rectangle(Position Left, Position Right)
{
    public int Area
        => (Math.Abs(Left.Y - Right.Y) + 1)
                * (Math.Abs(Left.X - Right.X) + 1);
}

internal static class Extensions
{
    public static IEnumerable<(T First, T Second)> Pairs<T>(this IEnumerable<T> self)
    {
        return self.SelectMany((fst, i) => self.Skip(i + 1).Select(snd => (fst, snd)));
    }
}
```

I deserved some rest from yesterday's puzzle. Today, I can easily say: Et voil√†!

Advent of Code sharpens your coding skills. But coding is more than typing symbols fast. It's also about teamwork, collaboration, and many skills I share in my book, _Street-Smart Coding: 30 Ways to Get Better at Coding._ That's the roadmap I wish I'd known from day one.

[Get your copy of Street-Smart Coding here](https://imcsarag.gumroad.com/l/streetsmartcoding/?utm_source=blog&utm_medium=post&utm_campaign=advent-2025-9)
